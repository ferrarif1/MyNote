

{
    "visible": false,
    "txID": "6c38f86f7e3c03201f333137730575a853ec8beb143339fd27c38101ddab03f0",
    "raw_data": {
        "contract": [
            {
                "parameter": {
                    "value": {
                        "amount": 1000,
                        "owner_address": "4195a6569bdccc1bee832803b4116a020950818cba",
                        "to_address": "41267e3656d86e7474996bfa377bd2458fa9b4e20f"
                    },
                    "type_url": "type.googleapis.com/protocol.TransferContract"
                },
                "type": "TransferContract"
            }
        ],
        "ref_block_bytes": "b8d3",
        "ref_block_hash": "3f106564697d37b2",
        "expiration": 1583290890000,
        "timestamp": 1583290831258
    },
    "raw_data_hex": "0a02b8d322083f106564697d37b24090eef69b8a2e5a66080112620a2d747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e5472616e73666572436f6e747261637412310a154195a6569bdccc1bee832803b4116a020950818cba121541267e3656d86e7474996bfa377bd2458fa9b4e20f18e807709aa3f39b8a2e"
}


----------------分析------------------------------------

0a 02 b8d3    //ref_block_bytes

22 08  3f106564697d37b2  //ref_block_hash


40  90eef69b8a2e      //expiration 字段   protobuf 编码的 int64  1583290890000


5a66080112620a2d747970652e676f6f676c65617069732e636f6d2f70726f746f636f6c2e5472616e73666572436f6e747261637412310a154195a6569bdccc1bee832803b4116a020950818cba121541267e3656d86e7474996bfa377bd2458fa9b4e20f18e807


70  9aa3f39b8a2e    //timestamp 字段, protobuf编码  int64    1583290831258
 
--------------------------------------------------------
关于 protobuf中 int64编码过程 https://www.jianshu.com/p/73c9ed3a4877

1.在每个字节开头的 bit 设置了 msb(most significant bit )，标识是否需要继续读取下一个字节
2.存储数字对应的二进制补码
3.补码的低位排在前面(编码时: 从末端开始取每 7 位一组并且反转排序)




1583290890000  的编码过程:  

原码:   	00000001 01110000 10100011 01111101 10110111 00010000

补码:   	00000001 01110000 10100011 01111101 10110111 00010000

7位组正序:   	0101110 0001010 0011011 1110110 1101110 0010000
 
7位组逆序: 	0010000 1101110 1110110 0011011 0001010 0101110 

加上 MSB :     1 0010000 1 1101110 1 1110110 1 0011011 1 0001010 0 0101110 

对比:

0x90eef69b8a2e   的二进制形式:   

		10010000 11101110 11110110 10011011 10001010 00101110


对比成功!!!


------------------------------------------------------------------------





